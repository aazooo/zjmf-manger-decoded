(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CreateMenuWww~31ecd969"],{"019f3":function(a,t,e){"use strict";e.d(t,"a",(function(){return r}));e("4160"),e("b64b"),e("d3b7"),e("3ca3"),e("10d1"),e("159b"),e("ddb0");var n=e("53ca");function r(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null===a||"object"!==Object(n["a"])(a))return a;if(t.get(a))return a;var e=Array.isArray(a)?[]:{};return t.set(a,e),Object.keys(a).forEach((function(n){e[n]=r(a[n],t)})),e}},"10d1":function(a,t,e){"use strict";var n,r=e("da84"),l=e("e2cc"),i=e("f183"),d=e("6d61"),s=e("acac"),o=e("861d"),u=e("69f3").enforce,c=e("7f9a"),p=!r.ActiveXObject&&"ActiveXObject"in r,m=Object.isExtensible,g=function(a){return function(){return a(this,arguments.length?arguments[0]:void 0)}},f=a.exports=d("WeakMap",g,s);if(c&&p){n=s.getConstructor(g,"WeakMap",!0),i.REQUIRED=!0;var h=f.prototype,D=h["delete"],v=h.has,y=h.get,b=h.set;l(h,{delete:function(a){if(o(a)&&!m(a)){var t=u(this);return t.frozen||(t.frozen=new n),D.call(this,a)||t.frozen["delete"](a)}return D.call(this,a)},has:function(a){if(o(a)&&!m(a)){var t=u(this);return t.frozen||(t.frozen=new n),v.call(this,a)||t.frozen.has(a)}return v.call(this,a)},get:function(a){if(o(a)&&!m(a)){var t=u(this);return t.frozen||(t.frozen=new n),v.call(this,a)?y.call(this,a):t.frozen.get(a)}return y.call(this,a)},set:function(a,t){if(o(a)&&!m(a)){var e=u(this);e.frozen||(e.frozen=new n),v.call(this,a)?b.call(this,a,t):e.frozen.set(a,t)}else b.call(this,a,t);return this}})}},"1f90":function(a,t,e){},3591:function(a,t,e){"use strict";var n=e("1f90"),r=e.n(n);r.a},"4de4":function(a,t,e){"use strict";var n=e("23e7"),r=e("b727").filter,l=e("1dde"),i=e("ae40"),d=l("filter"),s=i("filter");n({target:"Array",proto:!0,forced:!d||!s},{filter:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}})},8418:function(a,t,e){"use strict";var n=e("c04e"),r=e("9bf2"),l=e("5c6c");a.exports=function(a,t,e){var i=n(t);i in a?r.f(a,i,l(0,e)):a[i]=e}},a434:function(a,t,e){"use strict";var n=e("23e7"),r=e("23cb"),l=e("a691"),i=e("50c4"),d=e("7b0b"),s=e("65f0"),o=e("8418"),u=e("1dde"),c=e("ae40"),p=u("splice"),m=c("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,f=Math.min,h=9007199254740991,D="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!m},{splice:function(a,t){var e,n,u,c,p,m,v=d(this),y=i(v.length),b=r(a,y),_=arguments.length;if(0===_?e=n=0:1===_?(e=0,n=y-b):(e=_-2,n=f(g(l(t),0),y-b)),y+e-n>h)throw TypeError(D);for(u=s(v,n),c=0;c<n;c++)p=b+c,p in v&&o(u,c,v[p]);if(u.length=n,e<n){for(c=b;c<y-n;c++)p=c+n,m=c+e,p in v?v[m]=v[p]:delete v[m];for(c=y;c>y-n+e;c--)delete v[c-1]}else if(e>n)for(c=y-n;c>b;c--)p=c+n-1,m=c+e-1,p in v?v[m]=v[p]:delete v[m];for(c=0;c<e;c++)v[c+b]=arguments[c+2];return v.length=y-n+e,u}})},acac:function(a,t,e){"use strict";var n=e("e2cc"),r=e("f183").getWeakData,l=e("825a"),i=e("861d"),d=e("19aa"),s=e("2266"),o=e("b727"),u=e("5135"),c=e("69f3"),p=c.set,m=c.getterFor,g=o.find,f=o.findIndex,h=0,D=function(a){return a.frozen||(a.frozen=new v)},v=function(){this.entries=[]},y=function(a,t){return g(a.entries,(function(a){return a[0]===t}))};v.prototype={get:function(a){var t=y(this,a);if(t)return t[1]},has:function(a){return!!y(this,a)},set:function(a,t){var e=y(this,a);e?e[1]=t:this.entries.push([a,t])},delete:function(a){var t=f(this.entries,(function(t){return t[0]===a}));return~t&&this.entries.splice(t,1),!!~t}},a.exports={getConstructor:function(a,t,e,o){var c=a((function(a,n){d(a,c,t),p(a,{type:t,id:h++,frozen:void 0}),void 0!=n&&s(n,a[o],a,e)})),g=m(t),f=function(a,t,e){var n=g(a),i=r(l(t),!0);return!0===i?D(n).set(t,e):i[n.id]=e,a};return n(c.prototype,{delete:function(a){var t=g(this);if(!i(a))return!1;var e=r(a);return!0===e?D(t)["delete"](a):e&&u(e,t.id)&&delete e[t.id]},has:function(a){var t=g(this);if(!i(a))return!1;var e=r(a);return!0===e?D(t).has(a):e&&u(e,t.id)}}),n(c.prototype,e?{get:function(a){var t=g(this);if(i(a)){var e=r(a);return!0===e?D(t).get(a):e?e[t.id]:void 0}},set:function(a,t){return f(this,a,t)}}:{add:function(a){return f(this,a,!0)}}),c}}},b64b:function(a,t,e){var n=e("23e7"),r=e("7b0b"),l=e("df75"),i=e("d039"),d=i((function(){l(1)}));n({target:"Object",stat:!0,forced:d},{keys:function(a){return l(r(a))}})},c5a1:function(a,t,e){"use strict";e.d(t,"m",(function(){return r})),e.d(t,"k",(function(){return l})),e.d(t,"g",(function(){return i})),e.d(t,"b",(function(){return d})),e.d(t,"l",(function(){return s})),e.d(t,"r",(function(){return o})),e.d(t,"s",(function(){return u})),e.d(t,"n",(function(){return c})),e.d(t,"q",(function(){return p})),e.d(t,"p",(function(){return m})),e.d(t,"a",(function(){return g})),e.d(t,"e",(function(){return f})),e.d(t,"c",(function(){return h})),e.d(t,"f",(function(){return D})),e.d(t,"j",(function(){return v})),e.d(t,"i",(function(){return y})),e.d(t,"h",(function(){return b})),e.d(t,"d",(function(){return _})),e.d(t,"o",(function(){return L}));var n=e("a27e");function r(a){return Object(n["a"])({url:"menus/getMenuType",method:"post",data:a})}function l(a){return Object(n["a"])({url:"menus/getMenu",method:"post",data:a})}function i(a){return Object(n["a"])({url:"menus/editMenuActive",method:"post",data:a})}function d(a){return Object(n["a"])({url:"menus/addMenu",method:"post",data:a})}function s(a){return Object(n["a"])({url:"menus/getMenuList",method:"post",data:a})}function o(a){return Object(n["a"])({url:"menus/setNavList",method:"post",data:a})}function u(a){return Object(n["a"])({url:"menus/setWebNavList",method:"post",data:a})}function c(a){return Object(n["a"])({url:"menus/getNavType",method:"post",data:a})}function p(a){return Object(n["a"])({url:"menus/getSystemNav",method:"post",data:a})}function m(a){return Object(n["a"])({url:"menus/getProductList",method:"post",data:a})}function g(a){return Object(n["a"])({url:"menus/addCustomPage",method:"post",data:a})}function f(a){return Object(n["a"])({url:"menus/delMenu",method:"post",data:a})}function h(a){return Object(n["a"])({url:"menus/addProductPage",method:"post",data:a})}function D(a){return Object(n["a"])({url:"menus/delTwoMenu",method:"post",data:a})}function v(a){return Object(n["a"])({url:"menus/getLang",method:"post",data:a})}function y(a){return Object(n["a"])({url:"menus/getDefaultSenior",method:"post",data:a})}function b(a){return Object(n["a"])({url:"menus/getCreateWebData",method:"get",params:a})}function _(a){return Object(n["a"])({url:"menus/createWebPage",method:"post",data:a})}function L(a){return Object(n["a"])({url:"menus/getOtherMenu",method:"post",data:a})}},c740:function(a,t,e){"use strict";var n=e("23e7"),r=e("b727").findIndex,l=e("44d2"),i=e("ae40"),d="findIndex",s=!0,o=i(d);d in[]&&Array(1)[d]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!o},{findIndex:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}}),l(d)},e7a1:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"menu-manage",staticStyle:{overflow:"auto"}},[e("h2",[a._v(a._s(a.formData.name))]),e("el-divider"),e("el-form",{attrs:{inline:!0,model:a.formData,"label-width":"100px"}},[e("el-form-item",{attrs:{label:a.$lang.name_navigation,prop:"name"}},[e("el-input",{style:{width:"260px"},attrs:{size:"small",maxlength:"15",placeholder:a.$lang.enter_name_navigation,clearable:""},model:{value:a.formData.name,callback:function(t){a.$set(a.formData,"name",t)},expression:"formData.name"}})],1),e("el-form-item",{attrs:{label:a.$lang.navigation_type,prop:"type"}},[a._v(" "+a._s(a.formData.type)+" ")])],1),e("el-tree",{attrs:{data:a.treeData,"empty-text":a.emptyText,props:a.treeProps,"node-key":"id","default-expand-all":"",draggable:"","allow-drop":a.allowDrop,"allow-drag":a.allowDrag},on:{"node-drag-start":a.handleDragStart,"node-drag-enter":a.handleDragEnter,"node-drag-leave":a.handleDragLeave,"node-drag-over":a.handleDragOver,"node-drag-end":a.handleDragEnd,"node-drop":a.handleDrop},scopedSlots:a._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return e("span",{staticClass:"custom-tree-node"},[e("div",{staticClass:"tree-item"},[e("span",{staticClass:"tree-icon"},[r.fa_icon?e("i",{class:r.fa_icon+" menu-icon"}):a._e()]),e("span",{class:r.is_display?"ml-10 icon-label menu-item-label-disabled":"ml-10 icon-label"},[a._v(a._s(n.label+(r.other_name||"")))]),e("span",{staticClass:"ml-10 tip"},[a._v(a._s(r.nav_type_name))]),1!=r.is_display?e("i",{staticClass:"ml-10 el-icon-edit blue",on:{click:function(){return a.changeName(n,r)}}}):a._e(),1!=r.is_display?e("i",{staticClass:"ml-10 el-icon-remove-outline blue",on:{click:function(){return a.remove(n,r)}}}):a._e()])])}}])}),e("div",{staticClass:"add-box"},[e("i",{staticClass:"el-icon-circle-plus-outline",on:{click:a.addMenu}})]),e("div",{staticClass:"btn-box"},[e("el-button",{attrs:{size:"small",type:"primary",loading:a.btnLoading},on:{click:a.saveChange}},[a._v(a._s(a.$lang.save_the_changes))]),e("el-button",{attrs:{size:"small"},on:{click:a.cancelChange}},[a._v(a._s(a.$lang.cancel_changes))])],1),e("el-dialog",{attrs:{"before-close":a.handleClose,title:a.editFlag?a.$lang.edit_page:a.$lang.add_page,visible:a.dialogVisible,width:"50%"},on:{"update:visible":function(t){a.dialogVisible=t},close:a.dialogClose}},[e("el-form",{ref:"addForm",attrs:{model:a.addData,rules:a.addRules,"label-width":a.labelWidth}},[e("el-form-item",{attrs:{label:a.$lang.name_designation+"：",prop:"name"}},[e("el-row",[e("el-col",{attrs:{span:15}},[e("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:a.$lang.please_enter_name,clearable:""},model:{value:a.addData.name,callback:function(t){a.$set(a.addData,"name",t)},expression:"addData.name"}})],1),e("el-col",{attrs:{span:4}},[e("el-checkbox",{staticClass:"ml-10",attrs:{"true-label":1,"false-label":0},model:{value:a.addData.muti,callback:function(t){a.$set(a.addData,"muti",t)},expression:"addData.muti"}},[a._v(a._s(a.$lang.support_multiple_language))])],1)],1)],1),a.addData.muti?e("el-form-item",{attrs:{label:a.$lang.multilingual,prop:"lang"}},[a._l(a.addedLangList,(function(t){return e("el-row",{key:t.key},[a.addData.muti?e("el-col",{attrs:{span:15}},[e("span",{staticClass:"multTitle"},[a._v(a._s(t.label)+"：")]),e("el-input",{staticStyle:{width:"70%"},attrs:{size:"small",maxlength:"30",placeholder:a.$lang.please_enter_name,clearable:""},model:{value:t.value,callback:function(e){a.$set(t,"value",e)},expression:"item.value"}}),e("i",{staticClass:"ml-5 el-icon-remove-outline blue ft-16 cp",on:{click:function(e){return a.deleteLang(t)}}})],1):a._e()],1)})),a.addData.muti?e("el-row",{staticClass:"mult-lang"},[e("i",{staticClass:"el-icon-circle-plus-outline ft-18 green cp",on:{click:a.addLang}}),a.addData.muti&&a.showLang?e("el-form-item",{attrs:{prop:"language"}},[e("span",{attrs:{slot:"label"},slot:"label"},[a._v(" "+a._s(a.$lang.language_select)+" ")]),e("el-popover",{attrs:{placement:"top-start",title:"",width:"200",trigger:"hover"}},[e("el-row",[e("el-col",{attrs:{span:24}},[a._v(a._s(a.$lang.support_system_language))])],1),e("i",{staticClass:"el-icon-question blue_qus",attrs:{slot:"reference"},slot:"reference"})],1),e("el-select",{staticStyle:{width:"76%"},attrs:{size:"small",placeholder:a.$lang.select_language},on:{change:a.changeLang},model:{value:a.language,callback:function(t){a.language=t},expression:"language"}},a._l(a.languageList,(function(a,t,n){return e("el-option",{key:n,attrs:{label:a,value:t}})})),1)],1):a._e()],1):a._e()],2):a._e(),e("el-form-item",{attrs:{label:a.$lang.type+"：",prop:"type"}},[e("el-row",[e("el-col",{attrs:{span:15}},[e("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:a.$lang.select_page_type,disabled:a.editFlag},on:{change:a.changeType},model:{value:a.addData.type,callback:function(t){a.$set(a.addData,"type",t)},expression:"addData.type"}},a._l(a.typeOptions,(function(a,t){return e("el-option",{key:t,attrs:{label:a,value:t}})})),1)],1)],1)],1),0==a.addData.type?e("el-form-item",{attrs:{label:a.$lang.built_in_page+"：",prop:"url"}},[e("el-row",[e("el-col",{attrs:{span:15}},[e("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:a.$lang.built_in_page_tip},model:{value:a.addData.url,callback:function(t){a.$set(a.addData,"url",t)},expression:"addData.url"}},a._l(a.sysTpl,(function(a,t,n){return e("el-option",{key:n,attrs:{label:a,value:t}})})),1)],1)],1)],1):a._e(),3==a.addData.type?e("el-form-item",{attrs:{label:a.$lang.address+"：",prop:"url"}},[e("el-row",[e("el-col",{attrs:{span:15}},[e("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:a.$lang.please_enter_name,clearable:""},model:{value:a.addData.url,callback:function(t){a.$set(a.addData,"url",t)},expression:"addData.url"}})],1)],1)],1):a._e(),4==a.addData.type?e("el-form-item",{attrs:{label:a.$lang.template+"：",prop:"url"}},[e("el-row",[e("el-col",{attrs:{span:15}},[e("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:a.$lang.template_tip},model:{value:a.addData.url,callback:function(t){a.$set(a.addData,"url",t)},expression:"addData.url"}},a._l(a.allTpl,(function(a,t,n){return e("el-option",{key:n,attrs:{label:a,value:t}})})),1)],1)],1)],1):a._e(),3==a.addData.type||4==a.addData.type?e("el-form-item",{attrs:{label:a.$lang.tag+"：",prop:"tag"}},[e("el-row",[e("el-col",{attrs:{span:15}},[e("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:a.$lang.please_enter_tag,clearable:""},model:{value:a.addData.tag,callback:function(t){a.$set(a.addData,"tag",t)},expression:"addData.tag"}})],1)],1)],1):a._e(),1==a.addData.type?e("el-form-item",{attrs:{label:a.$lang.primary_group+"：",prop:"name"}},[e("el-row",[e("el-col",{attrs:{span:3}},[e("el-select",{staticStyle:{width:"85px"},attrs:{size:"small"},model:{value:a.addData.custom,callback:function(t){a.$set(a.addData,"custom",t)},expression:"addData.custom"}},a._l(a.customList,(function(a,t){return e("el-option",{key:t,attrs:{label:a.label,value:a.value}})})),1)],1),"other"==a.addData.custom?e("el-col",{attrs:{span:12}},[e("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",placeholder:a.$lang.please_select_the_first_level_group},model:{value:a.addData.relid,callback:function(t){a.$set(a.addData,"relid",t)},expression:"addData.relid"}},a._l(a.topGroups,(function(a,t,n){return e("el-option",{key:n,attrs:{label:a,value:t}})})),1)],1):a._e()],1)],1):a._e(),2==a.addData.type?e("el-form-item",{attrs:{label:a.$lang.goods+"：",prop:"name"}},[e("el-row",[e("el-col",{attrs:{span:3}},[e("el-select",{staticStyle:{width:"85px"},attrs:{size:"small"},model:{value:a.addData.custom,callback:function(t){a.$set(a.addData,"custom",t)},expression:"addData.custom"}},a._l(a.customList,(function(a,t){return e("el-option",{key:t,attrs:{label:a.label,value:a.value}})})),1)],1),"other"==a.addData.custom?e("el-col",{attrs:{span:12}},[e("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",placeholder:a.$lang.please_select_goods},model:{value:a.addData.relid,callback:function(t){a.$set(a.addData,"relid",t)},expression:"addData.relid"}},a._l(a.groups,(function(a,t,n){return e("el-option",{key:n,attrs:{label:a,value:t}})})),1)],1):a._e()],1)],1):a._e()],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",loading:a.confirmLoading},on:{click:a.addConfirm}},[a._v(a._s(a.$lang.confirm))]),e("el-button",{on:{click:a.cancel}},[a._v(a._s(a.$lang.cancel))])],1)],1)],1)},r=[],l=(e("4de4"),e("c740"),e("4160"),e("a434"),e("b0c0"),e("159b"),e("96cf"),e("1da1")),i=e("c5a1"),d=e("019f3"),s={components:{},data:function(){return{menu_type:"",labelWidth:window.document.body.clientWidth>768?"120px":null,zjmf_cw_license_type:sessionStorage.getItem("zjmf_cw_license_type"),templatePageList:{},addData:{name:"",type:void 0,url:"",tag:"",custom:"all",relid:[],muti:0},confirmLoading:!1,showLang:!1,del_ids:[],language:"",languageList:[],languageListClone:{},addedLangList:[],editFlag:!1,editId:"",emptyText:this.$lang.loading+"...",ids:[],dialogVisible:!1,btnLoading:!1,showIcon:!0,menuId:this.$route.query.menuId?this.$route.query.menuId:"",defaultProps:{children:"son",label:"name",value:"id",disabled:"is_display"},treeProps:{label:"name",children:"son"},formData:{name:"",type:""},pageData:[],treeData:[],addRules:{name:[{required:!0,message:this.$lang.please_enter_name,trigger:"blur"}],type:[{required:!0,message:this.$lang.select_page_type,trigger:"change"}]},typeOptions:[],customList:[{label:"全部",value:"all"},{label:"自定义",value:"other"}],allTpl:{},groups:{},sysTpl:{},topGroups:{}}},created:function(){this.getLanguage()},mounted:function(){this.getData(),this.getOptions()},watch:{},methods:{deleteLang:function(a){this.addedLangList=this.addedLangList.filter((function(t){return t.key!==a.key})),this.languageList[a.key]=a.label,this.$forceUpdate()},changeLang:function(){for(var a in this.languageList)if(a===this.language){var t={key:a,label:this.languageList[a],value:""};this.addedLangList.push(t),delete this.languageList[a],this.language="",this.$forceUpdate()}this.showLang=!1},addLang:function(){this.showLang=!this.showLang},getLanguage:function(a){var t=this;Object(i["j"])().then((function(e){if(200===!e.data.status)t.$message.error(e.data.msg);else if(t.languageList=e.data.data,t.languageListClone=Object(d["a"])(e.data.data),a)for(var n in a.lang)delete t.languageList[n],t.$forceUpdate()}))},getOptions:function(){var a=this;Object(i["h"])().then((function(t){200==t.data.status&&(a.allTpl=t.data.data.all_tpl,a.groups=t.data.data.groups,a.sysTpl=t.data.data.sys_tpl,a.topGroups=t.data.data.topGroups)}))},changeType:function(a){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.addData.url="",t.addData.custom="all",t.addData.relid=[],t.addData.tag="",t.$refs.addForm.clearValidate();case 5:case"end":return a.stop()}}),a)})))()},getType:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["n"])({menu_type:a.menu_type});case 2:e=t.sent,n=e.data,200!==n.status?a.$message.error(n.msg):a.typeOptions=n.data;case 5:case"end":return t.stop()}}),t)})))()},getData:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["k"])({menu_id:a.menuId});case 2:e=t.sent,n=e.data,200!==n.status?a.$message.error(n.msg):(a.menu_type=n.data.type,a.formData.name=n.data.name,a.formData.type=n.data.cn_name,a.treeData=n.data.nav_list||[],sessionStorage.setItem("formData",JSON.stringify(a.formData)),sessionStorage.setItem("treeData",JSON.stringify(a.treeData)),a.dialogVisible=!1,n.data.nav_list.length||(a.emptyText=a.$lang.no_data),a.getType());case 5:case"end":return t.stop()}}),t)})))()},dialogClose:function(){this.$refs.addForm.resetFields()},handleClose:function(a){a()},addConfirm:function(){var a=this;this.$refs.addForm.validate((function(t){if(t){var e={};if(a.addedLangList.forEach((function(a){e[a.key]=a.value})),a.editFlag)a.mapTree(a.treeData),a.saveChange();else if(0==a.addData.type){var n={name:a.addData.name,type:a.addData.type,url:a.addData.url,menu_type:a.menu_type};Object(i["d"])(n).then((function(t){if(200==t.data.status){var n={id:t.data.data,pid:a.menuId,url:a.addData.url,name:a.addData.name,nav_type:a.addData.type,nav_type_name:a.typeOptions[a.addData.type],order:"0",lang:e,muti:a.addData.muti};a.treeData.push(n),a.dialogVisible=!1,a.addData={name:"",type:void 0,url:"",tag:"",custom:"all",relid:[],muti:0},a.saveChange()}}))}else if(1==a.addData.type){var r={name:a.addData.name,type:a.addData.type,custom:a.addData.custom,relid:a.addData.relid,url:"",menu_type:a.menu_type};Object(i["d"])(r).then((function(t){if(200==t.data.status){var n={id:t.data.data,pid:a.menuId,url:"",name:a.addData.name,nav_type:a.addData.type,nav_type_name:a.typeOptions[a.addData.type],order:"0",lang:e,muti:a.addData.muti,custom:a.addData.custom,relid:a.addData.relid,menu_type:a.menu_type};a.treeData.push(n),a.dialogVisible=!1,a.addData={name:"",type:void 0,url:"",tag:"",custom:"all",relid:[],muti:0},a.saveChange()}}))}else if(2==a.addData.type){var l={name:a.addData.name,type:a.addData.type,custom:a.addData.custom,relid:a.addData.relid,url:"",menu_type:a.menu_type};Object(i["d"])(l).then((function(t){if(200==t.data.status){var n={id:t.data.data,pid:a.menuId,url:"",name:a.addData.name,nav_type:a.addData.type,nav_type_name:a.typeOptions[a.addData.type],order:"0",lang:e,muti:a.addData.muti,custom:a.addData.custom,relid:a.addData.relid,menu_type:a.menu_type};a.treeData.push(n),a.dialogVisible=!1,a.addData={name:"",type:void 0,url:"",tag:"",custom:"all",relid:[],muti:0},a.saveChange()}}))}else if(3==a.addData.type){var d={name:a.addData.name,type:a.addData.type,url:a.addData.url,tag:a.addData.tag,menu_type:a.menu_type};Object(i["d"])(d).then((function(t){if(200==t.data.status){var n={id:t.data.data,pid:a.menuId,name:a.addData.name,nav_type:a.addData.type,nav_type_name:a.typeOptions[a.addData.type],order:"0",lang:e,muti:a.addData.muti,url:a.addData.url,tag:a.addData.tag,menu_type:a.menu_type};a.treeData.push(n),a.dialogVisible=!1,a.addData={name:"",type:void 0,url:"",tag:"",custom:"all",relid:[],muti:0},a.saveChange()}}))}else if(4==a.addData.type){var s={name:a.addData.name,type:a.addData.type,url:a.addData.url,tag:a.addData.tag,menu_type:a.menu_type};Object(i["d"])(s).then((function(t){if(200==t.data.status){var n={id:t.data.data,pid:a.menuId,name:a.addData.name,nav_type:a.addData.type,nav_type_name:a.typeOptions[a.addData.type],order:"0",lang:e,muti:a.addData.muti,url:a.addData.url,tag:a.addData.tag,menu_type:a.menu_type};a.treeData.push(n),a.dialogVisible=!1,a.addData={name:"",type:void 0,url:"",tag:"",custom:"all",relid:[],muti:0},a.saveChange()}}))}}}))},cancel:function(){this.dialogVisible=!1},trasnLang:function(a){for(var t in this.languageListClone)if(t==a)return this.languageListClone[t]},changeName:function(a,t){for(var e in this.getLanguage(t),this.editFlag=!0,this.editId=t.id,this.addData.type=parseInt(t.nav_type),this.addData.muti=t.muti,this.addedLangList=[],this.dialogVisible=!0,this.addData.name=t.name,this.showLang=!1,t.lang){var n={key:e,label:this.trasnLang(e),value:t.lang[e]};this.addedLangList.push(n)}0===parseInt(t.nav_type)&&(this.addData.url=t.url),1===parseInt(t.nav_type)&&(this.addData.custom=t.custom,this.addData.relid=t.relid),2===parseInt(t.nav_type)&&(this.addData.custom=t.custom,this.addData.relid=t.relid),3===parseInt(t.nav_type)&&(this.addData.url=t.url,this.addData.tag=t.tag),4===parseInt(t.nav_type)&&(this.addData.url=t.url,this.addData.tag=t.tag)},mapTree:function(a){var t=this;a.forEach((function(a){if(a.id!==t.editId)a.son&&a.son.length>0&&t.mapTree(a.son);else{var e={};switch(t.addData.type){case 0:a.name=t.addData.name,a.muti=t.addData.muti,a.url=t.addData.url,t.addedLangList.forEach((function(a){e[a.key]=a.value})),a.lang=e;break;case 1:a.custom=t.addData.custom,a.relid=t.addData.relid,a.name=t.addData.name,a.muti=t.addData.muti,t.addedLangList.forEach((function(a){e[a.key]=a.value})),a.lang=e;break;case 2:a.name=t.addData.name,a.custom=t.addData.custom,a.relid=t.addData.relid,a.muti=t.addData.muti,t.addedLangList.forEach((function(a){e[a.key]=a.value})),a.lang=e;break;case 3:a.name=t.addData.name,a.muti=t.addData.muti,a.url=t.addData.url,a.tag=t.addData.tag,t.addedLangList.forEach((function(a){e[a.key]=a.value})),a.lang=e;break;case 4:a.name=t.addData.name,a.muti=t.addData.muti,a.url=t.addData.url,a.tag=t.addData.tag,t.addedLangList.forEach((function(a){e[a.key]=a.value})),a.lang=e;break;default:break}}}))},cancelChange:function(){sessionStorage.getItem("formData")&&(this.formData=JSON.parse(sessionStorage.getItem("formData"))),sessionStorage.getItem("treeData")&&(this.treeData=JSON.parse(sessionStorage.getItem("treeData")))},handleChanged:function(a){},addMenu:function(){this.getLanguage(),this.addedLangList=[],this.editFlag=!1,this.addData={name:"",type:void 0,url:"",tag:"",custom:"all",relid:[],muti:0},this.dialogVisible=!0},saveChange:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.treeData.forEach((function(a){a.pid="0"})),e={del_ids:a.del_ids,menu_id:a.menuId,menu_name:a.formData.name,nav_list:a.treeData},a.confirmLoading=!0,a.btnLoading=!0,t.next=6,Object(i["s"])(e);case 6:n=t.sent,r=n.data,200!==r.status?(a.$message.error(r.msg),a.confirmLoading=!1,a.btnLoading=!1):(a.$message.success(r.msg),a.confirmLoading=!1,a.btnLoading=!1,a.getData());case 9:case"end":return t.stop()}}),t)})))()},handleDragStart:function(a,t){},handleDragEnter:function(a,t,e){},handleDragLeave:function(a,t,e){},handleDragOver:function(a,t,e){},handleDragEnd:function(a,t,e,n){},handleDrop:function(a,t,e,n){},remove:function(a,t){var e=a.parent,n=e.data.son||e.data,r=n.findIndex((function(a){return a.id===t.id}));n.splice(r,1),this.deepMapTree(t),this.$message.success(this.$lang.successfully_delete)},deepMapTree:function(a){var t=this,e=[];Array.isArray(a)?e=a:e.push(a),e.forEach((function(a){t.del_ids.push(a.id),a.son&&a.son.length>0&&t.deepMapTree(a.son)}))},allowDrop:function(a,t,e){return 1!=t.data.nav_type&&2!=t.data.nav_type&&!t.data.is_display},allowDrag:function(a){return!a.data.is_display}}},o=s,u=(e("3591"),e("2877")),c=Object(u["a"])(o,n,r,!1,null,"06c06bea",null);t["default"]=c.exports}}]);