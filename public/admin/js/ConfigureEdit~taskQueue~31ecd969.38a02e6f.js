(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ConfigureEdit~taskQueue~31ecd969"],{"0085":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"j",(function(){return s})),a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"k",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return h})),a.d(t,"i",(function(){return p})),a.d(t,"e",(function(){return m}));var r=a("a27e");function n(e){return Object(r["a"])({url:"zjmf_finance_api/downstream_summary",params:e})}function s(e){return Object(r["a"])({url:"zjmf_finance_api/products",params:e})}function i(e){return Object(r["a"])({url:"zjmf_finance_api/host",params:e})}function o(e){return Object(r["a"])({url:"zjmf_finance_api/addpage"})}function l(e){return Object(r["a"])({url:"get_upstream_products",params:e})}function c(e){return Object(r["a"])({url:"zjmf_finance_api/inputproduct",method:"post",data:e})}function u(e){return Object(r["a"])({url:"zjmf_finance_api/upstreamhost",method:"post",data:e})}function d(e){return Object(r["a"])({url:"zjmf_finance_api/manualhost",params:e})}function h(e){return Object(r["a"])({url:"zjmf_finance_api/manualhost",method:"post",data:e})}function p(e){return Object(r["a"])({url:"zjmf_finance_api/order",params:e})}function m(e){return Object(r["a"])({url:"zjmf_finance_api/order_commission",method:"post",data:e})}},1148:function(e,t,a){"use strict";var r=a("a691"),n=a("1d80");e.exports="".repeat||function(e){var t=String(n(this)),a="",s=r(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(a+=t);return a}},1789:function(e,t,a){"use strict";var r,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h5",{staticClass:"mt-0"},[e._v(e._s(e.$lang.you_can_view_all_the_automatic_task_actions_and_sources_here))]),a("div",{staticClass:"mb-20 customerlist_header"},[a("el-select",{style:{width:"200px"},attrs:{size:"small",placeholder:e.$lang.please_select_a_condition},on:{change:e.clearSearch},model:{value:e.searchSelect,callback:function(t){e.searchSelect=t},expression:"searchSelect"}},e._l(e.searchOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1),""!=e.StatusOptions.length&&e.searchSelect?a("el-select",{style:{width:"200px"},attrs:{size:"small",clearable:"",placeholder:e.$lang.please_choose},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}},e._l(e.StatusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),""==e.StatusOptions.length&&e.searchSelect?a("el-input",{style:{width:"150px"},attrs:{size:"small",placeholder:e.$lang.please_enter_a_user_name,name:"",clearable:""},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}):e._e(),a("el-input",{style:{width:"150px"},attrs:{size:"small",placeholder:e.$lang.input_key_words,clearable:""},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search",loading:e.btnLoading},on:{click:e.searchClick}},[e._v(e._s(e.$lang.search))])],1),a("el-table",{attrs:{data:e.tableList,border:""}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[!e.tableList.length&&e.tableLoading?a("span",[a("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.tableList.length||e.tableLoading?e._e():a("span",[e._v(e._s(e.$lang.no_data))])]),a("el-table-column",{attrs:{prop:"user",label:e.$lang.client,width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{path:"/customer-view/abstract",query:{id:t.row.user_id}}}},[a("el-link",{on:{click:function(a){return e.goToView(t.row.user_id)}}},[e._v(e._s(t.row.user))])],1)]}}])}),a("el-table-column",{attrs:{prop:"domain",label:e.$lang.product},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{name:"productInnerpage",query:{id:r.user_id,hid:r.host_id}}}},[a("el-link",{on:{click:function(t){return e.goToProduct(r.user_id,r.host_id)}}},[e._v(e._s(r.name)+e._s(r.dedicatedip?"("+r.dedicatedip+")":""))])],1)]}}])}),a("el-table-column",{attrs:{prop:"active_type",label:e.$lang.motion,width:"70"}}),a("el-table-column",{attrs:{prop:"description",label:e.$lang.describe}}),a("el-table-column",{attrs:{prop:"from_type",label:e.$lang.source,width:"70"}}),a("el-table-column",{attrs:{prop:"credit",label:e.$lang.state,width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.loading?e._e():a("span",{staticClass:"Dot",style:0==r.status?"background: #FD365B;":"background: #15C6B2;"}),a("span",[e._v(e._s(r.loading||1!==r.status?r.loading||0!==r.status?"":e.$lang.fail:e.$lang.succeed))]),r.loading?a("i",{staticClass:"el-icon-loading"}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"last_execute_time",label:e.$lang.last_operating_time,width:"120"}}),a("el-table-column",{attrs:{prop:"credit",label:e.$lang.operation,width:"120",center:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v(e._s(e.$lang.tautology))]):e._e()]}}])})],1),a("el-pagination",{attrs:{"current-page":e.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.getData,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"limit",t)},"update:page-size":function(t){return e.$set(e.search,"limit",t)}}})],1)},s=[],i=(a("d81d"),a("a9e3"),a("b64b"),a("ac1f"),a("841c"),a("1276"),a("ade3")),o=(a("96cf"),a("1da1")),l=a("4e25"),c={data:function(){return{searchOptions:[{label:this.$lang.client,value:"user"},{label:this.$lang.motion,value:"active_type"},{label:this.$lang.state,value:"status"}],StatusOptions:[],searchInput:"",search:{page:1,limit:Number(localStorage.getItem("limit"))||50},total:0,searchSelect:"",searchStr:"",btnLoading:!1,tableList:[],tableLoading:!1,id:this.$route.query.id}},mounted:function(){var e=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;e&&(this.searchSelect=JSON.parse(e).searchSelect,this.searchStr=JSON.parse(e).searchStr,this.searchInput=JSON.parse(e).searchInput),this.getData()},methods:(r={goToProduct:function(e,t){this.$router.push({name:"productInnerpage",query:{id:e,hid:t}})}},Object(i["a"])(r,"goToProduct",(function(e,t){this.$router.push({name:"productInnerpage",query:{id:e,hid:t}})})),Object(i["a"])(r,"goToView",(function(e){this.$router.push({path:"/customer-view/abstract",query:{id:e}})})),Object(i["a"])(r,"clearSearch",(function(){var e=[{label:this.$lang.opening,value:1},{label:this.$lang.pause,value:2},{label:this.$lang.remove_suspended,value:3},{label:this.$lang.delete,value:4},{label:this.$lang.renew,value:5},{label:this.$lang.demotioneing_run,value:6},{label:this.$lang.dcim_traffic_to_reset,value:7},{label:this.$lang.rubiks_cube_cloud_traffic_to_reset,value:8}],t=[{label:this.$lang.succeed,value:1},{label:this.$lang.fail,value:0}],a=[{label:this.$lang.timed_task,value:100},{label:this.$lang.manual_tasks,value:200},{label:this.$lang.order_form,value:300},{label:this.$lang.docking_upstream,value:400},{label:this.$lang.a_downstream,value:500}];this.searchStr="","active_type"==this.searchSelect?this.StatusOptions=e:"from_type"==this.searchSelect?this.StatusOptions=a:"status"==this.searchSelect?this.StatusOptions=t:this.StatusOptions=[]})),Object(i["a"])(r,"searchClick",(function(){this.search.page=1,this.getData()})),Object(i["a"])(r,"handleClick",(function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,Object(l["t"])({rm_id:e.id});case 3:r=a.sent,200==r.data.status?(t.$message({message:r.data.msg,type:"success"}),e.loading=!1,e.status=1):(e.loading=!1,t.$message.error(r.data.msg));case 5:case"end":return a.stop()}}),a)})))()})),Object(i["a"])(r,"handleSizeChange",(function(){this.search.page=1,this.getData()})),Object(i["a"])(r,"getData",(function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$urlUpdate({searchSelect:e.searchSelect,searchStr:e.searchStr,searchInput:e.searchInput},location.href,e.$route.query),e.tableLoading=!0,a={},""!=e.searchSelect&&(a="active_type"==e.searchSelect?{active_type:e.searchStr}:"from_type"==e.searchSelect?{from_type:e.searchStr}:"status"==e.searchSelect?{status:e.searchStr}:"user"==e.searchSelect?{user:e.searchStr}:{description:e.searchStr}),r={page:e.search.page,limit:e.search.limit,keywords:e.searchInput,"query[from_type]":400},e.id&&(r.supplier_id=e.id),t.next=8,Object(l["u"])(r,Object.keys(a)[0],a[Object.keys(a)[0]]);case 8:n=t.sent,e.tableLoading=!1,200==n.data.status?(e.total=n.data.data.count,e.tableList=n.data.data.list.map((function(t){return t.from_type=e.formType(t.from_type),t.active_type=e.activeType(t.active_type),t.loading=!1,t}))):e.$message.error(n.data.msg);case 11:case"end":return t.stop()}}),t)})))()})),Object(i["a"])(r,"formType",(function(e){var t="";return t=100==e?this.$lang.timed_task:200==e?this.$lang.manual_tasks:400==e?this.$lang.docking_upstream:300==e?this.$lang.order_form:this.$lang.a_downstream,t})),Object(i["a"])(r,"activeType",(function(e){var t="";return 1==e?t=this.$lang.opening:2==e?t=this.$lang.pause:3==e?t=this.$lang.remove_suspended:4==e?t=this.$lang.delete:5==e?t=this.$lang.renew:6==e?t=this.$lang.demotioneing_run:7==e?t=this.$lang.dcim_traffic_to_reset:8==e&&(t=this.$lang.rubiks_cube_cloud_traffic_to_reset),t})),r)},u=c,d=(a("f19e"),a("2877")),h=Object(d["a"])(u,n,s,!1,null,"475eb812",null);t["a"]=h.exports},"408a":function(e,t,a){var r=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"4de4":function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").filter,s=a("1dde"),i=a("ae40"),o=s("filter"),l=i("filter");r({target:"Array",proto:!0,forced:!o||!l},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var r=a("ade3");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},7021:function(e,t,a){},ade3:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return r}))},af9c:function(e,t,a){"use strict";a.d(t,"n",(function(){return n})),a.d(t,"m",(function(){return s})),a.d(t,"j",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"q",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"k",(function(){return d})),a.d(t,"o",(function(){return h})),a.d(t,"l",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"p",(function(){return g})),a.d(t,"r",(function(){return f})),a.d(t,"b",(function(){return _})),a.d(t,"i",(function(){return b})),a.d(t,"f",(function(){return v})),a.d(t,"g",(function(){return w})),a.d(t,"h",(function(){return y}));var r=a("a27e");function n(e){return Object(r["a"])({url:"order/search_page",params:e})}function s(e){return Object(r["a"])({url:"order/search",params:e})}function i(e){return Object(r["a"])({url:"order/check",params:e})}function o(e){return Object(r["a"])({url:"order/cancel",params:e})}function l(e){return Object(r["a"])({url:"orders/delete",method:"delete",params:e})}function c(e){return Object(r["a"])({url:"order/create_page",params:e})}function u(e){return Object(r["a"])({url:"order/create",method:"post",data:e})}function d(e){return Object(r["a"])({url:"orders/"+e})}function h(e){return Object(r["a"])({url:"orders/set_config",params:e})}function p(e){return Object(r["a"])({url:"get_total",method:"post",data:e})}function m(e){return Object(r["a"])({url:"order/save_promo_code",method:"post",data:e})}function g(e){return Object(r["a"])({url:"orders/active",method:"post",data:e})}function f(){return Object(r["a"])({url:"order/promo_code_page"})}function _(e){return Object(r["a"])({url:"orders/change_status",method:"post",data:e})}function b(e){return Object(r["a"])({url:"order/order_commission",method:"post",data:e})}function v(e){return Object(r["a"])({url:"order/getclients",params:{username:e}})}function w(e){return Object(r["a"])({url:"invoice/renew",method:"get",params:e})}function y(e){return Object(r["a"])({url:"zjmf_finance_api/renew",method:"get",params:e})}},b64b:function(e,t,a){var r=a("23e7"),n=a("7b0b"),s=a("df75"),i=a("d039"),o=i((function(){s(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(e){return s(n(e))}})},b680:function(e,t,a){"use strict";var r=a("23e7"),n=a("a691"),s=a("408a"),i=a("1148"),o=a("d039"),l=1..toFixed,c=Math.floor,u=function(e,t,a){return 0===t?a:t%2===1?u(e,t-1,a*e):u(e*e,t/2,a)},d=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},h=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));r({target:"Number",proto:!0,forced:h},{toFixed:function(e){var t,a,r,o,l=s(this),h=n(e),p=[0,0,0,0,0,0],m="",g="0",f=function(e,t){var a=-1,r=t;while(++a<6)r+=e*p[a],p[a]=r%1e7,r=c(r/1e7)},_=function(e){var t=6,a=0;while(--t>=0)a+=p[t],p[t]=c(a/e),a=a%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var a=String(p[e]);t=""===t?a:t+i.call("0",7-a.length)+a}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=d(l*u(2,69,1))-69,a=t<0?l*u(2,-t,1):l/u(2,t,1),a*=4503599627370496,t=52-t,t>0){f(0,a),r=h;while(r>=7)f(1e7,0),r-=7;f(u(10,r,1),0),r=t-1;while(r>=23)_(1<<23),r-=23;_(1<<r),f(1,1),_(2),g=b()}else f(0,a),f(1<<-t,0),g=b()+i.call("0",h);return h>0?(o=g.length,g=m+(o<=h?"0."+i.call("0",h-o)+g:g.slice(0,o-h)+"."+g.slice(o-h))):g=m+g,g}})},ce50:function(e,t,a){e.exports=a.p+"img/upgrade.4d4bbae5.svg"},d2f9:function(e,t,a){},dbb4:function(e,t,a){var r=a("23e7"),n=a("83ab"),s=a("56ef"),i=a("fc6a"),o=a("06cf"),l=a("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,a,r=i(e),n=o.f,c=s(r),u={},d=0;while(c.length>d)a=n(r,t=c[d++]),void 0!==a&&l(u,t,a);return u}})},dd77:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("a27e");function n(e){return Object(r["a"])({url:"searchfornamelist",method:"post",data:e})}},e439:function(e,t,a){var r=a("23e7"),n=a("d039"),s=a("fc6a"),i=a("06cf").f,o=a("83ab"),l=n((function(){i(1)})),c=!o||l;r({target:"Object",stat:!0,forced:c,sham:!o},{getOwnPropertyDescriptor:function(e,t){return i(s(e),t)}})},e4ae:function(e,t,a){"use strict";var r=a("7021"),n=a.n(r);n.a},f19e:function(e,t,a){"use strict";var r=a("d2f9"),n=a.n(r);n.a},fb63:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"productOrder custom-tabs"},[r("el-tabs",{on:{"tab-click":e.tabsSearch},model:{value:e.typeTabActive,callback:function(t){e.typeTabActive=t},expression:"typeTabActive"}},[e._l(e.typeOptions,(function(e,t){return r("el-tab-pane",{key:t,attrs:{label:e.label,name:e.value}})})),r("h5",{staticClass:"mt-0"},[e._v(e._s(e.$lang.order_list_hint)),r("el-link",{on:{click:e.openDoc}},[e._v(e._s(e.$lang.help_document))])],1)],2),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-plus"},on:{click:e.creatOrderHandleClick}},[e._v(e._s(e.$lang.add_new_order))]),r("el-button",{staticClass:"ml-10",attrs:{size:"small"},on:{click:function(t){e.showSearchArea=!e.showSearchArea}}},[e._v(" "+e._s(e.showSearchArea?e.$lang.pack_up_the_search:e.$lang.advanced_search)+" ")])],1)],1),r("transition",{attrs:{name:"el-zoom-in-top"}},[e.showSearchArea?r("el-form",{ref:"elForm",staticClass:"mt-20 unfold-search",attrs:{inline:"",model:e.search,"label-width":"65px"}},[r("el-form-item",{attrs:{label:e.$lang.order_id,prop:"id"}},[r("el-input",{style:{width:"200px"},attrs:{size:"small",placeholder:e.$lang.enter_order_id,clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHandeClick(t)}},model:{value:e.search.id,callback:function(t){e.$set(e.search,"id",t)},expression:"search.id"}})],1),r("el-form-item",{attrs:{label:e.$lang.client,prop:"username"}},[r("el-autocomplete",{style:{width:"200px"},attrs:{"trigger-on-focus":!0,size:"small","fetch-suggestions":e.querySearchAsync,placeholder:e.$lang.enter_associated_with_user},on:{input:e.clearUid,select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[r("el-row",[r("el-col",{attrs:{span:24}},[r("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(a.username))]),r("span",[e._v(e._s(a.companyname?" ("+a.companyname+")":""))]),r("span",[e._v(e._s(a.id?" - #"+a.id:""))])]),r("el-col",{staticStyle:{"margin-top":"-10px"},attrs:{span:24}},[r("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v(e._s(a.email))])])],1)]}}],null,!1,1605673202),model:{value:e.search.username,callback:function(t){e.$set(e.search,"username",t)},expression:"search.username"}})],1),r("el-form-item",{attrs:{label:e.$lang.sell,prop:"sale_id"}},[r("el-select",{style:{width:"200px"},attrs:{size:"small",placeholder:e.$lang.select_sell,clearable:""},model:{value:e.search.sale_id,callback:function(t){e.$set(e.search,"sale_id",t)},expression:"search.sale_id"}},e._l(e.sale_idOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.user_nickname,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:e.$lang.payment_status,prop:"pay_status"}},[r("el-select",{style:{width:"220px"},attrs:{size:"small",placeholder:e.$lang.select_payment_status,clearable:""},model:{value:e.search.pay_status,callback:function(t){e.$set(e.search,"pay_status",t)},expression:"search.pay_status"}},e._l(e.pay_statusOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:"0"===t?e:e.name,value:t}})})),1)],1),r("el-form-item",{attrs:{label:e.$lang.time,prop:"time"}},[r("el-date-picker",{style:{width:"350px"},attrs:{size:"small",type:"datetimerange","value-format":"timestamp","start-placeholder":e.$lang.start_time,"end-placeholder":e.$lang.end_time,"range-separator":e.$lang.go,clearable:""},on:{change:e.dateSelectChange},model:{value:e.searchTime,callback:function(t){e.searchTime=t},expression:"searchTime"}})],1),r("el-form-item",{attrs:{label:e.$lang.state,prop:"status"}},[r("el-select",{style:{width:"200px"},attrs:{size:"small",placeholder:e.$lang.select_state,clearable:""},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.statusOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),r("el-form-item",{attrs:{label:e.$lang.sum,prop:"amount"}},[r("el-input",{style:{width:"200px"},attrs:{size:"small",placeholder:e.$lang.please_enter_sum,clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchHandeClick(t)}},model:{value:e.search.amount,callback:function(t){e.$set(e.search,"amount",t)},expression:"search.amount"}})],1),r("el-form-item",{attrs:{label:e.$lang.payment_term,prop:"payment"}},[r("el-select",{style:{width:"230px"},attrs:{size:"small",placeholder:e.$lang.select_payment_term,clearable:""},model:{value:e.search.payment,callback:function(t){e.$set(e.search,"payment",t)},expression:"search.payment"}},e._l(e.paymentOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.title,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:" "}},[r("el-button",{attrs:{size:"mini",type:"primary",loading:e.btnLoading},on:{click:e.searchHandeClick}},[e._v(e._s(e.$lang.search))]),r("el-button",{attrs:{size:"mini"},on:{click:e.clearSearchHandleClick}},[e._v(e._s(e.$lang.empty))])],1)],1):e._e()],1),r("el-table",{ref:"dataTable",staticClass:"mt-10",attrs:{data:e.orderTableData,border:""},on:{"selection-change":e.handleSelectionChange,"sort-change":e.sortChange}},[r("div",{attrs:{slot:"empty"},slot:"empty"},[!e.orderTableData.length&&e.tableLoading?r("span",[r("i",{staticClass:"el-icon-loading"}),e._v(" "+e._s(e.$lang.loading)+" ... ")]):e._e(),e.orderTableData.length||e.tableLoading?e._e():r("span",[e._v(e._s(e.$lang.no_data))])]),r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("router-link",{attrs:{to:{path:"/order-detail",query:{id:t.row.id}}}},[r("el-link",{on:{click:function(a){return e.toDetailPage(t.row.id)}}},[e._v(e._s(t.row.id))])],1)]}}])}),r("el-table-column",{attrs:{prop:"username",label:e.$lang.client_name},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.notes?r("el-popover",{attrs:{placement:"top-start",title:e.$lang.important_note,trigger:"hover",content:t.row.notes}},[r("router-link",{attrs:{slot:"reference",to:{path:"/customer-view/abstract",query:{id:t.row.uid}}},slot:"reference"},[r("el-link",{on:{click:function(a){return e.goToView(t.row.uid)}}},[e._v(e._s(t.row.username))]),r("div",{staticClass:"second-row"},[e._v(e._s(t.row.companyname))])],1)],1):r("router-link",{attrs:{slot:"reference",to:{path:"/customer-view/abstract",query:{id:t.row.uid}}},slot:"reference"},[r("el-link",{on:{click:function(a){return e.goToView(t.row.uid)}}},[e._v(e._s(t.row.username))]),r("div",{staticClass:"second-row"},[e._v(e._s(t.row.companyname))])],1)]}}])}),r("el-table-column",{attrs:{prop:"hosts",label:e.$lang.product},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.hosts.length,expression:"!scope.row.hosts.length"}]}),t.row.hosts.length&&"upgrade"===t.row.hosts[0].invoice_type?r("el-tooltip",{attrs:{effect:"light",content:e.$lang.demotioneing_run_product,placement:"top"}},[r("img",{staticStyle:{float:"left",margin:"3px 5px 0 0"},attrs:{src:a("ce50"),alt:"",width:"13"}})]):e._e(),r("el-popover",{directives:[{name:"show",rawName:"v-show",value:t.row.hosts.length,expression:"scope.row.hosts.length"}],attrs:{trigger:"hover",placement:"bottom",width:"600"}},[r("table",{staticStyle:{"border-spacing":"0"},attrs:{cellpadding:"10"}},[r("thead",[r("tr",[r("th",{staticClass:"popover_table_th1"},[e._v(e._s(e.$lang.product))]),r("th",{staticClass:"popover_table_th2"},[e._v(e._s(e.$lang.sum))]),r("th",{staticClass:"popover_table_th3",staticStyle:{width:"60px"}},[e._v(e._s(e.$lang.period))]),r("th",{staticClass:"popover_table_th4",staticStyle:{width:"200px"}},[e._v("IP")])])]),r("tbody",e._l(t.row.hosts,(function(a,n){return r("tr",{key:n,staticClass:"popover_table_tr"},[r("td",{staticClass:"popover_table_th1"},[t.row.hosts.length&&0!==t.row.hosts[0].hostid?r("router-link",{attrs:{to:{name:"productInnerpage",query:{id:a.uid,hid:a.hostid,fa:"product-list"}}}},[r("el-link",[e._v(e._s(a.name+(a.domain?"("+a.domain+")":"")))])],1):r("span",[e._v(e._s(a.name+(a.domain?"("+a.domain+")":"")))])],1),r("td",{staticClass:"popover_table_th2"},[r("el-row",[r("el-col",[e._v(e._s(a.firstpaymentamount))]),1===a.initiative_renew?r("el-col",[r("span",{staticStyle:{"font-size":"12px",color:"#798494"}},[e._v(e._s(e.$lang.automatic_renewal))])]):e._e()],1)],1),r("td",{staticClass:"popover_table_th3",staticStyle:{width:"60px"}},[e._v(e._s(a.billingcycle))]),r("td",{staticClass:"popover_table_th4",staticStyle:{width:"200px"}},[e._v(e._s(a.dedicatedip))])])})),0)]),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t.row.hosts.length&&0!==t.row.hosts[0].hostid?r("router-link",{attrs:{to:{name:"productInnerpage",query:{id:t.row.hosts[0].uid,hid:t.row.hosts.length?t.row.hosts[0].hostid:"",fa:"productList"}}}},[r("el-link",[e._v(" "+e._s(t.row.hosts.length?t.row.hosts[0].name:"")+" ")]),r("div",{staticClass:"second-row"},[e._v(e._s(t.row.hosts[0]?t.row.hosts[0].domain:""))])],1):r("span",[r("div",[e._v(e._s(t.row.hosts.length?t.row.hosts[0].name:""))]),r("div",{staticClass:"second-row"},[e._v(e._s(t.row.hosts[0]?t.row.hosts[0].domain:""))])])],1)])]}}])}),r("el-table-column",{attrs:{label:"IP",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("div",[e._v(" "+e._s(a.hosts[0]?a.hosts[0].dedicatedip:"-")+" ")])]}}])}),r("el-table-column",{attrs:{prop:"create_time",label:e.$lang.place_order_time,sortable:"",width:"135",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.create_time?e.$moment(1e3*t.row.create_time).format("YYYY-MM-DD HH:mm"):"-"))])]}}])}),r("el-table-column",{attrs:{prop:"amount",label:e.$lang.sum,width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.amount)+e._s(t.row.cycle?" / "+t.row.cycle:""))])]}}])}),r("el-table-column",{attrs:{label:e.$lang.payment_status_method,width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("div",[a.pay_status.name&&a.pay_status.color?r("span",{style:{color:a.pay_status.color}},[e._v(e._s(a.pay_status.name))]):r("span",[e._v(e._s(a.pay_status))])]),r("div",{staticClass:"second-row"},[e._v(e._s(a.payment))])]}}])}),r("el-table-column",{attrs:{prop:"status",label:e.$lang.state,sortable:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{style:{color:t.row.order_status.color}},[e._v(e._s(t.row.order_status.name))])]}}])}),r("el-table-column",{attrs:{prop:"order_notes",label:e.$lang.customer_remarks}}),r("el-table-column",{attrs:{prop:"sum",label:e.$lang.commission_sales,width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("div",[a.loading?r("span",[r("i",{staticClass:"el-icon-loading"})]):e._e(),a.loading?e._e():r("span",[a.flag?r("el-popover",{attrs:{placement:"top",title:"",width:"",trigger:"hover"}},[r("div",[e._v(e._s(e.$lang.commission)+": "+e._s(a.sum2))]),a.sum1?r("div",[e._v(e._s(e.$lang.ladder)+e._s(a.ladder.turnover.bates)+" % : "+e._s(a.sum1))]):e._e(),r("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(a.sum))])]):r("span",[e._v(e._s(a.sum))])],1)]),r("div",{staticClass:"second-row"},[e._v(e._s(a.user_nickname))])]}}])})],1),r("el-row",{staticClass:"mt-10"},[r("el-col",{attrs:{sm:12,xs:24}},[e._v(" "+e._s(e.$lang.selected_item)+": "),r("el-button",{attrs:{size:"small",type:"success",loading:e.examLoading},on:{click:e.examPassHandleClick}},[e._v(e._s(e.$lang.check_by))]),r("el-button",{attrs:{size:"small",loading:e.cancelLoading},on:{click:e.cancelOrderHandleClick}},[e._v(e._s(e.$lang.cancellation_order))]),r("el-button",{attrs:{size:"small",type:"danger",loading:e.deleteLoading},on:{click:e.deleteOrderHandleClick}},[e._v(e._s(e.$lang.delete_order)+" ")])],1),r("el-col",{staticClass:"tar",attrs:{sm:12,xs:24}},[r("span",{staticClass:"mr-20"},[r("span",{staticClass:"total-label"},[e._v(e._s(e.$lang.total)+": ")]),r("span",[e._v(e._s(e.orderTableData.length?e.orderTableData[0].prefix:"¥")+e._s(e.totalPrice)+e._s(e.orderTableData.length?e.orderTableData[0].suffix:e.$lang.yuan))])]),r("span",{staticClass:"mr-20"},[r("span",{staticClass:"total-label"},[e._v(e._s(e.$lang.this_page_in_total)+": ")]),r("span",[e._v(e._s(e.orderTableData.length?e.orderTableData[0].prefix:"¥")+e._s(e.price)+e._s(e.orderTableData.length?e.orderTableData[0].suffix:e.$lang.yuan))])]),r("span",[r("span",{staticClass:"total-label"},[e._v(e._s(e.$lang.total_is_checked)+": ")]),r("span",[e._v(e._s(e.orderTableData.length?e.orderTableData[0].prefix:"¥")+e._s(e.selectedPrice)+e._s(e.orderTableData.length?e.orderTableData[0].suffix:e.$lang.yuan))])])])],1),r("el-pagination",{staticClass:"mt-10",attrs:{"current-page":e.search.page,"page-sizes":[10,15,20,25,50,100],"page-size":e.search.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.search,"page",t)},"update:current-page":function(t){return e.$set(e.search,"page",t)},"update:pageSize":function(t){return e.$set(e.search,"limit",t)},"update:page-size":function(t){return e.$set(e.search,"limit",t)}}})],1)},n=[],s=(a("4160"),a("b0c0"),a("a9e3"),a("b680"),a("ac1f"),a("5319"),a("841c"),a("1276"),a("159b"),a("96cf"),a("1da1")),i=a("dd77"),o=a("af9c"),l=a("0085"),c={metaInfo:{title:window.zjmf_cw_lang.supplier_prodyct_order},data:function(){return{typeTabActive:"",tableLoading:!1,adPageFlag:!1,OriginalSearch:void 0,first:!0,vuexTotal:this.$store.state.searchObj.total,examLoading:!1,cancelLoading:!1,deleteLoading:!1,labelWidth:window.document.body.clientWidth>768?"100px":null,showSearchArea:!1,searchTime:[],search:{page:1,limit:Number(localStorage.getItem("limit"))||50,order:"id",sort:"desc",ordernum:void 0,username:void 0,uid:void 0,pay_status:void 0,start_time:void 0,end_time:void 0,status:void 0,amount:void 0,payment:void 0,id:void 0,sale_id:void 0},usernameOptions:[],pay_statusOptions:[],statusOptions:[],paymentOptions:[],total:0,orderTableData:[],selectedTableDataIds:[],sale_idOptions:[],btnLoading:!1,price:0,totalPrice:0,selectedPrice:0,typeOptions:[{label:this.$lang.all,value:""},{label:this.$lang.to_check,value:"Pending"},{label:this.$lang.activated,value:"Active"},{label:this.$lang.canceled,value:"Cancel"}],id:this.$route.query.id}},methods:{openDoc:function(){open("https://www.idcsmart.com/wiki_list/654.html")},tabsSearch:function(e){window.cancel(),this.search.status=e.name,this.getData()},adSearch:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={},Object.assign(r,t.$route.query),r.page=e,r.limit=Number(localStorage.getItem("limit"))||50,""!==r.flag&&delete r.flag,r.table=t.$route.query.type,a.next=8,Object(i["a"])(r);case 8:n=a.sent,s=n.data,t.orderTableData=s.list,t.vuexTotal=s.count,t.btnLoading=!1,o=JSON.parse(JSON.stringify(t.$route.query)),o.page=e,delete o.request_time,t.$router.replace({query:o});case 17:case"end":return a.stop()}}),a)})))()},adSizeChange:function(e){this.adSearch(e)},clearUid:function(){this.search.uid=""},handleSelect:function(e){"notFound"!==e.type&&(this.search.username=e.username,this.search.uid=e.id)},querySearchAsync:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(o["f"])(e);case 2:if(n=r.sent,s=n.data,200===s.status){r.next=7;break}return a.$message.error(s.msg),r.abrupt("return");case 7:s.data.length?t(s.data):(i=[{username:a.$lang.no_relevant_data_could_be_found,type:"notFound"}],t(i));case 8:case"end":return r.stop()}}),r)})))()},getSum:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["e"])(e.search);case 2:a=t.sent,r=a.data,200!==r.status?e.$message.error(r.msg):(e.orderTableData||[]).forEach((function(e){(r.list||[]).forEach((function(t){e.id===t.id&&(e.loading=!1,e.sum=t.sum,e.sum1=t.sum1,e.sum2=t.sum2,e.flag=t.flag,e.ladder=t.ladder)}))}));case 5:case"end":return t.stop()}}),t)})))()},getAdSum:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.state.searchQuery,a.flag=1,t.next=4,Object(i["a"])(a);case 4:r=t.sent,n=r.data,200!==n.status?e.$message.error(n.msg):(e.orderTableData||[]).forEach((function(t){(n.list||[]).forEach((function(a){t.id===a.id&&(t.loading=!1,t.sum=a.sum,t.sum1=a.sum1,t.sum2=a.sum2,t.flag=a.flag,t.ladder=a.ladder,e.$forceUpdate())}))}));case 7:case"end":return t.stop()}}),t)})))()},creatOrderHandleClick:function(){this.$router.push("/add-order")},orderSearchPage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["n"])();case 2:a=t.sent,r=a.data,200===r.status&&(e.sale_idOptions=r.list,e.usernameOptions=r.user,e.pay_statusOptions=r.pay_status,e.statusOptions=r.type,e.paymentOptions=r.gateway);case 5:case"end":return t.stop()}}),t)})))()},dateSelectChange:function(e){this.search.start_time=e[0]/1e3,this.search.end_time=e[1]/1e3},searchHandeClick:function(){this.adPageFlag=!1,this.search.uid=""===this.search.uid?void 0:this.search.uid,this.OriginalSearch=!0,this.btnLoading=!0,this.search.page=1,this.getData()},clearSearchHandleClick:function(){this.search.page=1,this.search.limit=10,this.search.uid=void 0,this.search.ordernum=void 0,this.search.username=void 0,this.search.pay_status=void 0,this.search.start_time=void 0,this.search.end_time=void 0,this.searchTime=[],this.search.status=void 0,this.search.amount=void 0,this.search.payment=void 0,this.search.id=void 0,this.search.sale_id=void 0},getData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$urlUpdate(e.search,location.href,e.$route.query),!e.$store.state.adFlag||!e.first){t.next=10;break}e.adPageFlag=e.$store.state.adFlag,e.orderTableData=e.$store.state.searchObj.list,e.vuexTotal=e.$store.state.searchObj.total,e.btnLoading=!1,e.first=!1,e.$store.commit("setAdFlag",!1),t.next=21;break;case 10:return e.orderTableData=[],e.tableLoading=!0,a=e.search,e.id&&(a.zjmf_api_id=e.id),t.next=16,Object(l["i"])(a);case 16:r=t.sent,n=r.data,200===n.status&&(e.total=n.count,(n.list||[]).forEach((function(e){e.loading=!0,e.sum=""})),e.orderTableData=n.list,e.price=n.price_total_page?Number(n.price_total_page).toFixed(2):0,e.totalPrice=n.price_total?Number(n.price_total).toFixed(2):0,e.getSum()),e.btnLoading=!1,e.tableLoading=!1;case 21:case"end":return t.stop()}}),t)})))()},goToView:function(e){this.$router.push({path:"/customer-view/abstract",query:{id:e}})},handleSelectionChange:function(e){var t=this;this.selectedPrice=0,this.selectedTableDataIds=[],(e||[]).forEach((function(e){t.selectedTableDataIds.push(e.id),t.selectedPrice+=Number(e.amount.substring(1,e.amount.length-1))})),this.selectedPrice=this.selectedPrice.toFixed(2)},sortChange:function(e,t,a){if("hosts"===e.prop)return!1;this.search.order=e.prop,"ascending"===e.order?this.search.sort="asc":this.search.sort="desc",this.getData()},examPassHandleClick:function(){var e=this;0===this.selectedTableDataIds.length?this.$message.warning(this.$lang.select_operate_data):this.$confirm(this.$lang.verification_confirm,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.examLoading=!0,t.next=3,Object(o["j"])({ids:e.selectedTableDataIds});case 3:a=t.sent,r=a.data,200===r.status?(e.getData(),e.$message.success(r.msg)):e.$message.warning(r.msg),e.examLoading=!1;case 7:case"end":return t.stop()}}),t)})))).catch((function(){}))},cancelOrderHandleClick:function(){var e=this;0===this.selectedTableDataIds.length?this.$message.warning(this.$lang.select_operate_data):this.$confirm(this.$lang.determine_cancel_confirm,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cancelLoading=!0,t.next=3,Object(o["a"])({ids:e.selectedTableDataIds});case 3:a=t.sent,r=a.data,200===r.status?(e.getData(),e.$message.success(r.msg)):e.$message.warning(r.msg),e.cancelLoading=!1;case 7:case"end":return t.stop()}}),t)})))).catch((function(){}))},deleteOrderHandleClick:function(){var e=this;0===this.selectedTableDataIds.length?this.$message.warning(this.$lang.select_operate_data):this.$confirm(this.$lang.delete_order_confirm,this.$lang.hint,{confirmButtonText:this.$lang.confirm,cancelButtonText:this.$lang.cancel,type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.deleteLoading=!0,t.next=3,Object(o["e"])({ids:e.selectedTableDataIds});case 3:a=t.sent,r=a.data,200===r.status?(e.getData(),e.$message.success(r.msg)):e.$message.warning(r.msg),e.deleteLoading=!1;case 7:case"end":return t.stop()}}),t)})))).catch((function(){}))},sendMessageHandleClick:function(){},handleSizeChange:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.search.page=1,t.getData();case 2:case"end":return e.stop()}}),e)})))()},handleCurrentChange:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e)})))()},toDetailPage:function(e){this.$router.push({path:"/order-detail",query:{id:e}})}},beforeDestroy:function(){this.$store.commit("searchQuery",{}),this.$store.commit("setAdFlag",!1)},watch:{vuexData:function(e){this.adPageFlag=!0,this.vuexTotal=e.count,(e.list||[]).forEach((function(e){e.loading=!0,e.sum=""})),this.orderTableData=e.list,this.price=e.price_total_page?Number(e.price_total_page).toFixed(2):0,this.totalPrice=e.price_total?Number(e.price_total).toFixed(2):0,this.OriginalSearch=!1,this.first=!1,this.$store.commit("setAdFlag",!1),this.getAdSum()},searchTime:function(e){e||(this.search.start_time=void 0,this.search.end_time=void 0)}},computed:{vuexData:function(){return this.$store.state.searchObj}},created:function(){var e=location.href.split("searchObj")[1]?this.$arrangeUrl(encodeURI(location.href.split("searchObj")[1])):void 0;if(e)for(var t in JSON.parse(e))this.search[t]=JSON.parse(e)[t];this.getData(),this.orderSearchPage()}},u=c,d=(a("e4ae"),a("2877")),h=Object(d["a"])(u,r,n,!1,null,"9febc440",null);t["default"]=h.exports}}]);